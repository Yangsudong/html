<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>exam4_4.html</title>
    <!-- 문제4 풀이 -->
</head>
<body>
    학번 : <input tpye="text" id="studentNO"> <br>
    이름 : <input tpye="text" id="name"> <br>
    학년 : <select id="grade"> <br>
        <option value="1">1학년</option>
        <option value="2">2학년</option>
        <option value="3">3학년</option>
        <option value="4">4학년</option>
    </select> <br>
    전공 : <input type="text" id="major"> <br>
    <button id="btn">추가</button>
    <br>
    <br>
    조회
    <select id="userGrade">
        <option value="1">1학년</option>
        <option value="2">2학년</option>
        <option value="3">3학년</option>
        <option value="4">4학년</option>
    </select>
    <p id="show"></p>
    <script>
        var students = [];
        document.getElementById('btn').onclick = function() {
            var studentNO = document.getElementById('studentNO').value;
            var name = document.getElementById('name').value;
            var grade = document.getElementById('grade').value;
            var major = document.getElementById('major').value;
            var student = {
            studentNO :studentNO,
            name : name,
            grade :grade,
            major :major
            }
            students.push(student);
            console.log(students);

            document.getElementById("show").innerHTML = "";
            students.forEach(function(a) {
                // console.log(a);
                var $li = document.createElement('li');
                var $text = document.createTextNode(a.studentNO + " " + a.name);
                $li.appendChild($text);
                show.appendChild($li);
            });
        }
        
        
        document.getElementById('userGrade').onchange = function() {
            var grade = this.value;
            var filterStudunts = students.filter(function(o) {
                return o.grade == grade;
            });
            var show = document.getElementById("show");
            var show_li = document.querySelectorAll('#show > li');
            show_li.forEach(function(o) {
                o.remove();
            })
            filterStudunts.forEach(function(a) {
                // console.log(a);
                var $li = document.createElement('li');
                var $text = document.createTextNode(a.studentNO + " " + a.name);
                $li.appendChild($text);
                show.appendChild($li);
            });
        }
    </script>
</body>
</html>